package cpro.alternant;

import java.util.*;
import java.sql.*;


public class Dao {
	
	
	public List getAllProducts() throws SQLException, ClassNotFoundException
	{
		List<Alternant> listAlternant = new ArrayList<Alternant>();


		Class.forName("com.mysql.jdbc.Driver");
		
		String url = "jdbc:mysql://localhost:3306/cpro_epec", user="lucky", password="";


		Connection connect = DriverManager.getConnection(url, user, password);



		Statement st =  connect.createStatement();

		ResultSet rs = st.executeQuery("SELECT * FROM alternant");
		
		while(rs.next()){

			if(rs.getString("image") != null)
			{
			Alternant p = new Alternant(rs.getString("nom"), rs.getString("prenom"), rs.getString("naissance"), rs.getString("entreprise"), rs.getString("img"));

			productsLists.add(p);
			}
			else {
				return null;
			}

		
		}
		connect.close();

		return productsLists;	
	}


}
